---
import type { Url } from '@recivi/schema'
import type { HTMLAttributes } from 'astro/types'

import { urlToDest } from '@/utils/recivi'

interface Props extends HTMLAttributes<'a'> {
  url: Url
}
const { url, ...attrs } = Astro.props

const href = urlToDest(url)
const title = typeof url === 'object' && 'label' in url ? url.label : undefined
---

<a
  {href}
  {title}
  {...attrs}
  ><slot>link</slot></a
>
